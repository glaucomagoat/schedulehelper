[build]
  publish = "."
  functions = "netlify/functions"
  edge_functions = "netlify/edge-functions"
  command = "npm install"

[functions]
  node_bundler = "esbuild"

[functions."storage-proxy"]
  timeout = 10

# Route /.netlify/functions/claude-proxy to the Edge Function instead of
# the serverless function. Edge Functions support true response streaming,
# which is required for AI schedule generation to work without timeouts.
# The old netlify/functions/claude-proxy.mjs is kept but no longer used.
[[edge_functions]]
  path = "/.netlify/functions/claude-proxy"
  function = "claude-proxy"
